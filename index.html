<!DOCTYPE html>
<html>
    <head>
        <title>Sensor Test</title>
        <meta name="viewpoint" content="width=device-width">
    </head>

    <body>

    <p> x = <span id="x"> </span></p>
    <p> y = <span id="y"> </span></p>
    <p> z = <span id="z"> </span></p>

    <script>
        <!--
        let magSensor = new Magnetometer({frequency: 60});

        magSensor.addEventListener('reading', e => {
            console.log("Magnetic field along the X-axis " + magSensor.x);
            console.log("Magnetic field along the Y-axis " + magSensor.y);
            console.log("Magnetic field along the Z-axis " + magSensor.z);
        });
        magSensor.addEventListener('error', event => {
            console.log(event.error.name, event.error.message);
        });
        magSensor.start();

        window.addEventListener('reading', e => {
            document.getElementById("x").innerHTML = magSensor.x.toFixed(3);
            document.getElementById("y").innerHTML = magSensor.y.toFixed(3);
            document.getElementById("z").innerHTML = magSensor.z.toFixed(3);
        });
        -->

        <!--
        const sensor = new Magnetometer();
        sensor.start();

        sensor.addEventListener('activate', () ={
            console.log('Ready to report readings');
        });
        sensor.addEventListener('error', error => {
            console.error(error);
        });
        -->

        window.addEventListener("devicemotion", function (e) {
            var acc = e.acceleration;
            document.getElementById("x").innerHTML = acc.x.toFixed(3);
            document.getElementById("y").innerHTML = acc.y.toFixed(3);
            document.getElementById("z").innerHTML = acc.z.toFixed(3);
        });
    </script>

    </body>
</html>


